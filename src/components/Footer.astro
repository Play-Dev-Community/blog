---
import FooterNav from "./FooterNav/FooterNav";
import Hr from "./Hr.astro";
import Socials from "./Socials.astro";

const currentYear = new Date().getFullYear();

export interface Props {
  noMarginTop?: boolean;
}

const { noMarginTop = false } = Astro.props;
---

<style>
  @import "animate.css";

  .icon-heart {
    @apply mx-1 w-[20px];
    animation-name: heartBeat;
    animation-duration: 10s;
    animation-iteration-count: infinite;
    animation-timing-function: ease;
  }

  .footer {
    @apply z-40 bg-skin-fill;
  }

  .rss-link {
    @apply hidden sm:flex;
  }

  .rss-link .rss-icon {
    @apply h-5 w-5 fill-skin-accent;
  }
</style>

<footer class={`footer ${noMarginTop ? "" : "mt-auto"}`}>
  <Hr noPadding />
  <div class="footer-wrapper">
    <Socials centered />
    <div class="copyright-wrapper">
      <span class="mx-auto leading-3">{currentYear} &#169; Play Devs</span>
      <!-- <span class="separator">&nbsp;|&nbsp;</span> -->
      <!-- <span>Todos os direitos reservados.</span> -->
      <!-- <div style="width: 100%;">Desenvolvido com <Icon name="heart" class="icon-heart" /> por Gabriel Moodlight</div> -->

      <a
        href="/rss.xml"
        class="rss-link"
        aria-label="rss feed"
        title="RSS Feed"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="rss-icon"
          ><path
            d="M19 20.001C19 11.729 12.271 5 4 5v2c7.168 0 13 5.832 13 13.001h2z"
          ></path><path
            d="M12 20.001h2C14 14.486 9.514 10 4 10v2c4.411 0 8 3.589 8 8.001z"
          ></path><circle cx="6" cy="18" r="2"></circle>
        </svg>
        <span class="sr-only">RSS Feed</span>
      </a>

      <FooterNav client:load />
    </div>
  </div>
</footer>

<style>
  footer {
    @apply w-full;
  }
  .footer-wrapper {
    @apply flex flex-col items-center justify-between py-6 sm:flex-row-reverse sm:py-4;
  }
  .link-button {
    @apply my-1 p-2 hover:rotate-6;
  }
  .link-button svg {
    @apply scale-125;
  }
  .copyright-wrapper {
    @apply my-2 flex flex-col-reverse flex-wrap items-end gap-4 whitespace-nowrap sm:flex-row sm:gap-2;
  }
  .separator {
    @apply hidden sm:inline;
  }
</style>
