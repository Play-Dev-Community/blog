---
import { SOCIALS } from "@config";
import LinkButton from "./LinkButton.astro";
import socialIcons from "@assets/socialIcons";

export interface Props {
  centered?: boolean;
}

const { centered = false } = Astro.props;
---

<div class={`social-icons ${centered ? "flex" : ""}`}>
  {
    SOCIALS.filter(social => social.active).map(social => (
      <LinkButton
        href={social.href}
        className="link-button"
        animated={social.animated}
        title={social.linkTitle}
      >
        <Fragment set:html={socialIcons[social.name]} />
        <span class="sr-only">{social.linkTitle}</span>
      </LinkButton>
    ))
  }
</div>

<style>
  .social-icons {
    @apply flex-wrap justify-center gap-1;
  }
  .link-button {
    @apply p-2 hover:rotate-6 sm:p-1;
  }

  .discord::before {
    content: "";
    position: absolute;
    top: -21px;
    right: 10px;
    transform: rotate(45deg);
    background-color: rgb(231, 231, 231);
    width: 10px;
    height: 10px;
    display: none;
  }

  .discord::after {
    content: "Venha para a nossa comunidade!";
    font-family: 'gg sans';
    font-size: 14px;
    justify-content: center;
    align-items: center;
    position: absolute;
    top: 0;
    right: 0;
    transform: translateY(-140%);
    color: rgb(10, 10, 10);
    background-color: rgb(231, 231, 231);
    width: 210px;
    height: 40px;
    border-radius: 0.125rem;
    display: none;
  }

  .discord:hover::before {
    display: block;
  }

  .discord:hover::after {
    display: flex;
  }

  @media screen and (max-width: 640px) {
    .discord:hover::before {
    display: none;
  }

  .discord:hover::after {
    display: none;
  }
  }
</style>
